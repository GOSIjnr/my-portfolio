@page "/contact"
@using System.Text.Json

<div class="contact-container">
	<div class="contact-grid">
		<ContactForm />

		<div class="contact-info">
			<ContactOption Icon="📞" Title="Phone" Detail="(+40) 321 654 876" />
			<ContactOption Icon="📧" Title="Email" Detail="youremail@email.com" />
			<ContactOption Icon="📍" Title="Address" Detail="Code Corner, Tech Town 13579" />
		</div>
	</div>
</div>

@code {
	[Inject] private AppContent AppContent { get; set; } = null!;
	[Inject] private SelectedServiceState SelectedServiceState { get; set; } = null!;

	private ContactFormModel _formModel = new();
	private ServiceInfo? _selectedService;

	protected override void OnInitialized()
	{
		_selectedService = SelectedServiceState.ConsumeSelectedService();

		if (_selectedService != null)
		{
			Console.WriteLine($"Selected service received: {_selectedService.Name}");
		}
		else
		{
			Console.WriteLine("No selected service received.");
		}
	}

	private void HandleValidSubmit()
	{
		Console.WriteLine("Email sent successfully!");
		Console.WriteLine(JsonSerializer.Serialize(_formModel));
	}
}
