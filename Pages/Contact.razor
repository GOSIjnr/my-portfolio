@page "/contact"

<div class="contact-container">
	<div class="contact-grid">
		<div class="contact-form-box">
			<h2 class="contact-title">Let's work together</h2>
			<p class="contact-subtitle">
				Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nesciunt sit illo esse commodi.
			</p>

			<EditForm Model="_formModel" OnValidSubmit="HandleValidSubmit">
				<DataAnnotationsValidator />
				<ValidationSummary />

				<InputText @bind-Value="_formModel.FirstName" class="input-field" placeholder="First name" />
				<InputText @bind-Value="_formModel.LastName" class="input-field" placeholder="Last name" />
				<InputText @bind-Value="_formModel.Email" class="input-field" placeholder="Email address" />
				<InputText @bind-Value="_formModel.Phone" class="input-field" placeholder="Phone number" />

				<select @bind="_formModel.Service" class="select-service">
					<option disabled selected value="">Select a service</option>
					<option>Web Development</option>
					<option>UI/UX Design</option>
					<option>Logo Design</option>
				</select>

				<InputTextArea @bind-Value="_formModel.Message" class="message-box"
					placeholder="Type your message here." />

				<button type="submit" class="submit-button">Send message</button>
			</EditForm>
		</div>

		<div class="contact-info">
			<ContactOption Icon="📞" Title="Phone" Detail="(+40) 321 654 876" />
			<ContactOption Icon="📧" Title="Email" Detail="youremail@email.com" />
			<ContactOption Icon="📍" Title="Address" Detail="Code Corner, Tech Town 13579" />
		</div>
	</div>
</div>

@code {
	[Inject] private AppContent AppContent { get; set; } = null!;
	[Inject] private SelectedServiceState SelectedServiceState { get; set; } = null!;

	private ContactFormModel _formModel = new();
	private ServiceInfo? _selectedService;

	protected override void OnInitialized()
	{
		_selectedService = SelectedServiceState.ConsumeSelectedService();

		if (_selectedService != null)
		{
			Console.WriteLine($"Selected service received: {_selectedService.Name}");
		}
		else
		{
			Console.WriteLine("No selected service received.");
		}
	}

	private void HandleValidSubmit()
	{
		Console.WriteLine("Email sent successfully!");
	}
}